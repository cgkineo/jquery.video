(function($){$("<style>",{text:""}).appendTo("head");var t={isTouchCapable:!1},n=function(t,i){setTimeout(t,i)},h=function(t){for(var i=1,s=arguments.length;i<s;i++){var n=arguments[i];for(var h in n)t[h]=n[h]}return t};t.isTouchCapable=!1;var i=function(){window.removeEventListener("touchstart",i),t.isTouchCapable=!0};window.addEventListener("touchstart",i);var o={t:null,i:0,s:null,listenTo:function(t,i,s){return t.i||(t.i=++o.i),this.i||(this.i=++o.i),this.t||(this.t={}),(this.t[t.i]=t).on(i,s,this),this.t[t.id]=!0,this},listenToOnce:function(t,i,s){return t.i||(t.i=++o.i),this.i||(this.i=++o.i),this.t||(this.t={}),(this.t[t.i]=t).once(i,s,this),this.t[t.id]=!0,this},stopListening:function(t,i,s){if(t){if(i)return t.off(i,s),this;if(!this.t[t.i])return;this.t[t.i].off(i,s,this)}else{if(!this.t)return;for(var n in this.t)this.t[n].off(i,s,this)}},on:function(t,i,s){switch(this.i||(this.i=++o.i),typeof t){case"string":var n=t.split(" ");if(1<n.length)return n.forEach(function(t){this.on(t,i,s)}.bind(this)),this;break;case"object":for(var h in t)this.on(h,t[h],s||i);return this}return this.s=this.s||{},this.s[t]=this.s[t]||[],this.s[t].push({subject:s||this,callback:i,once:!1}),this},once:function(t,i,s){switch(this.i||(this.i=++o.i),typeof t){case"string":var n=t.split(" ");if(1<n.length)return n.forEach(function(t){this.once(t,i,s)}.bind(this)),this;break;case"object":for(var h in t)this.on(h,t[h],s||i);return this}return this.s=this.s||{},this.s[t]=this.s[t]||[],this.s[t].push({subject:s||this,callback:i,once:!0}),this},off:function(t,i,s){switch(this.i||(this.i=++o.i),typeof t){case"string":var n=t.split(" ");if(1<n.length)return n.forEach(function(t){this.off(t,i,s)}.bind(this)),this;break;case"object":for(var h in t)this.off(h,t[h],s);return this}if(!t)return this.s=null,this;if(!this.s)return this;if(!this.s[t])return this;for(var r=this.s[t].length-1;-1<r;r--)i&&this.s[t][r].callback!==i||s&&this.s[t][r].subject!==s||this.s[t].splice(0,r);return this.s[t].length||delete this.s[t],this},trigger:function(t){if(this.i||(this.i=++o.i),!t)return this;if(!this.s)return this;if(this.s[t]){for(var i,s=(i=arguments,1,Array.prototype.slice.call(i,1)),n=[],h=0,r=this.s[t].length;h<r;h++){var e=this.s[t][h];e.callback.apply(e.subject,s),e.once&&n.unshift(h)}for(h=0,r=n.length;h<r;h++)this.s[t].splice(n[h],1);this.s[t].length||delete this.s[t]}},destroy:function(){this.off()}},r=function(t){var i={};if(t.$set)for(var s in t.$set)i[s]=i[s]||{},i[s].set=t.$set[s];if(t.$get)for(var s in t.$set)i[s]=i[s]||{},i[s].get=t.$set[s];Object.defineProperties(t,i)},s=function(t,i){var s=t.constructor||function(){};return h(s.prototype,o,t||{}),h(s,o,i||{}),r(s.prototype),r(s),s},e=s({id:null,selector:null,el:null,options:null,domEvents:["loadstart","process","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","play","pause","ratechange","resize","volumechange"],constructor:function t(i,s){this.id=++t.n,this.h(i),this.options=s||{},this.r=this.r.bind(this),t.players.push(this),t.trigger("create",this),this.e(),n(function(){t.trigger("created",this)}.bind(this),1)},h:function(t){switch(typeof t){case"string":this.el=window.document.querySelector(t);break;case"object":this.el=t}this.selector=t,this.el[e.o]=this},e:function(){for(var t=0,i=this.domEvents.length;t<i;t++)this.el.addEventListener(this.domEvents[t],this.r)},r:function(t){this.trigger("*",t),this.trigger(t.type,t),e.trigger(t.type,this,t)},destroy:function(){e.trigger("destroy",this);for(var t=e.players.length-1;-1<t;t--)e.players[t]===this&&e.players.splice(t,1);this.u(),this.id=null,this.selector=null,this.el=null,this.options=null,n(function(){e.trigger("destroyed",this)}.bind(this),1)},u:function(){for(var t=0,i=this.domEvents.length;t<i;t++)this.el.removeEventListener(this.domEvents[t],this.r);this.stopListening(),this.off()}},{n:0,o:"player",players:[]});window.Video=e;var u=s({floorPrecision:10,constructor:function(){this.listenTo(e,{ended:this.onEnded,play:this.onPlay,pause:this.onPause})},onPlay:function(t){t.hasEnded=!1},onPause:function(t){this.isEnded(t)&&!t.hasEnded&&setTimeout(function(){t.el&&(t.hasEnded||this.isEnded(t)&&t.el.dispatchEvent(new Event("ended")))}.bind(this),150)},onEnded:function(t){t.hasEnded=!0},isEnded:function(t){return Math.abs(Math.floor(t.el.currentTime*this.floorPrecision)-Math.floor(t.el.duration*this.floorPrecision))<=1}});e.fixended=new u;var a=function(t){return window.requestAnimationFrame(t)},c=s({playing:null,interval:62.5,isRaf:!1,lastTickTime:null,constructor:function(){this.playing=[],this.listenTo(e,{play:this.onPlay,"pause finish destroyed":this.onPause}),this.onRaf=this.onRaf.bind(this)},onPlay:function(t){this.playing.push(t),this.inRaf||(a(this.onRaf),this.inRaf=!0)},onRaf:function(){if(Date.now()<this.lastTickTime+this.interval)return this.playing.length?a(this.onRaf):this.inRaf=!1;for(var t=0,i=this.playing.length;t<i;t++){var s=new Event("timeupdate");s.realtime=!0,this.playing[t].el.dispatchEvent(s)}return a(this.onRaf)},onPause:function(t){for(var i=0,s=this.playing.length;i<s;i++)this.playing[i].id===t.id&&this.playing.splice(i,1)}});e.realtime=new c,$&&$.fn&&($.fn.videos=function(s){var t=this.find("video");switch(t=t.add(this.filter("video")),s){case"destroy":return t.each(function(t,i){i[e.o]instanceof e&&(i[e.o].destroy(),delete i[e.o])}),t}return t.each(function(t,i){i[e.o]||new e(i,s)}),t});var f=s({a:null,elements:null,constructor:function(){this.a=[],this.elements={},this.listenTo(e,{created:this.c,destroyed:this.f}),this.refresh=this.refresh.bind(this),document.body?n(this.refresh,1):document.addEventListener("load",this.refresh)},c:function(t){this.a.push(t),this.refresh()},f:function(t){for(var i=0,s=this.a.length;i<s;i++)this.a[i].id===t.id&&this.a.splice(i,1);this.refresh()},refresh:function(){var t=this.l([document.body],"[for][kind]");t=this.d(t),this.elements=this.v(t)},l:function(t,i){for(var s=[],n=0,h=t.length;n<h;n++)for(var r=t[n].querySelectorAll(i),e=0,o=r.length;e<o;e++)s.push(r[e]);return s},d:function(t){var i=[],s=this.p();if(!s)return i;if(!t.length)return i;for(var n=0,h=t.length;n<h;n++){var r=t[n];s[r.getAttribute("for")]&&i.push(r)}return i},p:function(){for(var t={},i=0,s=this.a.length;i<s;i++)t[this.a[i].el.id]=!0;return this.a.length?t:null},v:function(t){for(var i={},s=0,n=t.length;s<n;s++){var h=t[s],r=h.getAttribute("for");i[r]=i[r]||{},h.getAttribute("kind").split(" ").forEach(function(t){i[r][t]=i[r][t]||[],i[r][t].push(h)})}return i}});e.dom=new f;var l=s({constructor:function(){this.listenTo(e,{create:this.onCreate})},onCreate:function(t){new d(t)}}),d=s({video:null,constructor:function(t){this.video=t,this.listenTo(t,{timeupdate:this.onTimeUpdate,destroy:this.destroy()})},onTimeUpdate:function(){var t=this.video.el.id;if(e.dom.elements[t]&&e.dom.elements[t].rail)for(var i=e.dom.elements[t].rail,s=0,n=i.length;s<n;s++){var h=i[s],r=this.video.el.currentTime/this.video.el.duration;h.style.width=100*r+"%"}}});e.rail=new l,r=function(t){var i={};if(t.$set)for(var s in t.$set)i[s]=i[s]||{},i[s].set=t.$set[s];if(t.$get)for(var s in t.$set)i[s]=i[s]||{},i[s].get=t.$set[s];Object.defineProperties(t,i)};})(jQuery);